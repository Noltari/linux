# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/interrupt-controller/brcm,bcm6345-ext-intc.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Broadcom BCM6345 external interrupt controller

maintainers:
  - Álvaro Fernández Rojas <noltari@gmail.com>
  - Jonas Gorski <jonas.gorski@gmail.com>

properties:
  compatible:
    enum:
      - brcm,bcm6318-ext-intc
      - brcm,bcm6345-ext-intc

  "#interrupt-cells":
    const: 2

  reg:
    maxItems: 1

  "#address-cells":
    const: 0

  interrupt-controller: true

  interrupts:
    description: Specifies the interrupt line(s) in the interrupt-parent
      controller node. Valid values depend on the type of parent interrupt
      controller.
    maxItems: 4

  brcm,field-width:
    description: Interrupt controller field width (the default is 4).
    maxItems: 1
    $ref: /schemas/types.yaml#/definitions/uint32

required:
  - "#address-cells"
  - compatible
  - reg
  - "#interrupt-cells"
  - interrupt-controller
  - interrupts

additionalProperties: false

examples:
  - |
    interrupt-controller@10000018 {
      #address-cells = <0>;
      compatible = "brcm,bcm6345-ext-intc";
      reg = <0x10000018 0x4>;

      interrupt-parent = <&periph_intc>;
      #interrupt-cells = <2>;

      interrupt-controller;
      interrupts = <24>, <25>, <26>, <27>;
    };

  - |
    interrupt-controller@fffe0014 {
      #address-cells = <0>;
      compatible = "brcm,bcm6345-ext-intc";
      reg = <0xfffe0014 0x4>;

      interrupt-controller;
      #interrupt-cells = <2>;

      interrupt-parent = <&cpu_intc>;
      interrupts = <3>, <4>, <5>, <6>;

      brcm,field-width = <5>;
    };
